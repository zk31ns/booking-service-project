# üçΩÔ∏è Booking Seats API

> API –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ—Å—Ç –≤ –∫–∞—Ñ–µ.
> **Stack:** FastAPI, SQLAlchemy 2.0 (async), PostgreSQL, Redis, RabbitMQ, Celery, Loguru

---

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
2. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
3. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
4. [–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#–∫–æ–º–∞–Ω–¥—ã-–¥–ª—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
5. [–°—Ç–∏–ª–∏—Å—Ç–∏–∫–∞ –∫–æ–¥–∞](#—Å—Ç–∏–ª–∏—Å—Ç–∏–∫–∞-–∫–æ–¥–∞)
6. [üöÄ Deployment –Ω–∞ Production](#-deployment-–Ω–∞-production)
7. [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
8. [–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏](#–ø–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏)
9. [FAQ](#faq)
10. [–°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#—Å—Ç–∞—Ç—É—Å-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
11. [–ö–æ–Ω—Ç–∞–∫—Ç—ã](#–∫–æ–Ω—Ç–∞–∫—Ç—ã)

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python:** 3.11.9 (—Ç–æ—á–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è –≤—Å–µ–π –∫–æ–º–∞–Ω–¥—ã!)
- **Docker:** 24.0+ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏)
- **Docker Compose:** 2.0+ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **Git:** –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ pre-commit hooks

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –í—Å–µ —á–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Python 3.11.9**. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é:
```bash
python --version
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: Python 3.11.9
```

[‚Üë –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Python –≤–µ—Ä—Å–∏–∏ (–í–ê–ñ–ù–û!)

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Python
python --version

# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: Python 3.11.9
# –ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.11.9

# –ù–∞ Windows: —Å–∫–∞—á–∞–π—Ç–µ —Å python.org –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ pyenv
# –ù–∞ macOS: brew install python@3.11
# –ù–∞ Linux: sudo apt-get install python3.11
```

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd booking_seats_team_project

# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Å Python 3.11.9)
python3.11 -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
# –ù–∞ Windows:
venv\Scripts\activate
# –ù–∞ macOS/Linux:
source venv/bin/activate

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ (–¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ venv)
which python  # macOS/Linux
# –∏–ª–∏
where python # Windows
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ (venv)
# –í—ã–≤–æ–¥ –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å (venv)

# –û–±–Ω–æ–≤–∏—Ç—å pip –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
pip install --upgrade pip

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r src/requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
pip install -r requirements_style.txt

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
pip list | grep -i fastapi  # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å fastapi 0.128.0
pip list | grep -i sqlalchemy  # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å sqlalchemy 2.0.23
pip list | grep -i uvicorn  # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å uvicorn 0.34.0
pip list | grep -i pydantic  # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å pydantic 2.9.2
```

**üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (08.01.2026) —Å–º. [DEPENDENCIES_UPDATE.md](./DEPENDENCIES_UPDATE.md)

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env —Å –Ω—É–∂–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
# –ù–∞ Windows:
notepad .env
# –ù–∞ macOS/Linux:
nano .env

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ DATABASE_URL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç 5433 (–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π)
# DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5433/booking_db
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Git hooks (–≤–∞–∂–Ω–æ! ‚ö†Ô∏è)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pre-commit hooks –æ–¥–∏–Ω —Ä–∞–∑ (–≤ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–º venv)
pre-commit install

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
pre-commit run --all-files

# –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤—ã–≤–æ–¥ –ø—Ä–æ–≤–µ—Ä–æ–∫ Ruff –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

### 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –ë–î (Alembic)

```bash
# ‚ö†Ô∏è –í–ê–ñ–ù–û: –ú–∏–≥—Ä–∞—Ü–∏–∏ —É–∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
# –ï—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ ORM, —Å–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é:

# 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–æ–¥–µ–ª—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ –≤ app/db/base.py
# 2. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ä–∞–≤–Ω–∏—Ç –º–æ–¥–µ–ª–∏ –∏ –ë–î):
alembic revision --autogenerate -m "description_of_change"

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é (alembic/versions/...)
# 4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:
alembic upgrade head

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –ë–î:
alembic current

# –î–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞ —à–∞–≥ –Ω–∞–∑–∞–¥:
alembic downgrade -1
```

**–í–∞–∂–Ω–æ:**
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç 5433** –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ 5432 (—Å–º. `DATABASE_URL` –≤ `.env`)
- Alembic –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ SQLAlchemy (asyncpg)
- –ö–∞–∂–¥—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–∑–¥–∞—ë—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ —Å–≤–æ–µ–π –≤–µ—Ç–∫–µ - –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –Ω–µ –±—É–¥–µ—Ç (–∏–º–µ–Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã –ø–æ –≤—Ä–µ–º–µ–Ω–∏)

### 6. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ (venv)
# –í–ê–ñ–ù–û: –ó–∞–ø—É—Å–∫–∞—Ç—å –ò–ó –ü–ê–ü–ö–ò src (–≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è main.py –∏ app/)

cd src
python -m uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

**–í–∞–∂–Ω–æ:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `src/` –ø–æ—Ç–æ–º—É —á—Ç–æ –∏–º–ø–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `from app.*`, –∞ –Ω–µ `from src.app.*` (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Docker –∏ Celery worker).

API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞: **http://localhost:8000**

- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc
- Health Check: http://localhost:8000/api/v1/health

[‚Üë –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)

---

## –ó–∞–ø—É—Å–∫ —Å Docker

```bash
# –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up --build

# –í —Ñ–æ–Ω–µ
docker-compose up --build -d

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker-compose down

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose logs -f api
docker-compose logs -f postgres
```

**–°–µ—Ä–≤–∏—Å—ã:**
- **API:** http://localhost:8000
- **PostgreSQL:** localhost:5433 (postgres:postgres) ‚Äî **–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç 5433!**
- **Redis:** localhost:6379
- **RabbitMQ:** http://localhost:15672 (guest:guest)
- **Flower:** http://localhost:5555 (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Celery)
- **Celery Worker:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** `Dockerfile` –ø–µ—Ä–µ–º–µ—â—ë–Ω –≤ `src/Dockerfile`, –∞ `docker-compose.yml` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–≥–æ (build.dockerfile: src/Dockerfile). –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±–µ—Ä—É—Ç—Å—è –∏–∑ `src/requirements.txt`.

[‚Üë –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
booking_seats_team_project/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.py                 # FastAPI entry point
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ v1/          # API –º–∞—Ä—à—Ä—É—Ç—ã –ø–æ –≤–µ—Ä—Å–∏—è–º
‚îÇ   ‚îÇ   ‚îÇ   |   ‚îú‚îÄ‚îÄ users/         # Users endpoints (–ê–ª–µ–∫—Å–∞–Ω–¥—Ä)
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cafes/         # Cafes endpoints (–ü–∞–≤–µ–ª)
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tables/        # Tables endpoints (–ü–∞–≤–µ–ª)
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ slots/         # Slots endpoints (–õ–µ–≤)
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ booking/       # Booking endpoints (–ê–Ω–∞—Å—Ç–∞—Å–∏—è)
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ media/         # Media endpoints (–î–∞–Ω–∏–ª + –õ–µ–≤)
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ actions/       # Actions endpoints
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dishes/        # Dishes endpoints
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ root.py        # –ö–æ—Ä–Ω–µ–≤–æ–π endpoint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dependencies.py    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/                # –Ø–¥—Ä–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py          # SQLAlchemy Base
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ celery_app.py    # –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã Celery
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ celery_base.py   # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ Celery
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ celery_tasks.py  # Celery –∑–∞–¥–∞—á–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py        # Pydantic Settings
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ constants.py     # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py      # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–¥ Postgres
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exceptions.py    # –ò—Å–∫–ª—é—á–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lifespan.py      # –°–æ–±—ã—Ç–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logging.py       # Loguru –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ redis_cache.py   # Redis
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ security.py      # JWT, password hashing
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/            # ORM –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/           # Pydantic DTO
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repositories/      # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/             # –£—Ç–∏–ª–∏—Ç—ã –∏ helpers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ media/             # –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤ (JPG, PNG)
‚îÇ   ‚îú‚îÄ‚îÄ alembic/           # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (Database migrations)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ env.py         # Alembic runtime configuration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ versions/      # Migration files
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ script.py.mako # Migration template
‚îÇ   ‚îú‚îÄ‚îÄ alembic.ini        # Alembic configuration
|   ‚îú‚îÄ‚îÄ requirements.txt        # –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile              # Dockerfile
‚îú‚îÄ‚îÄ infra/                      # Docker –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ docker-compose.yml     # Compose (—É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ src/Dockerfile)
‚îú‚îÄ‚îÄ tests/                      # üß™ Unit & Integration tests
‚îÇ   ‚îú‚îÄ‚îÄ api/                   # API endpoint tests
‚îÇ   ‚îú‚îÄ‚îÄ services/              # Business logic tests
‚îÇ   ‚îú‚îÄ‚îÄ repositories/          # Database tests
‚îÇ   ‚îú‚îÄ‚îÄ utils/                 # Utility tests
‚îÇ   ‚îú‚îÄ‚îÄ conftest.py           # Pytest fixtures
‚îÇ   ‚îî‚îÄ‚îÄ README.md             # Testing guide
‚îú‚îÄ‚îÄ logs/                       # –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ pytest.ini                 # üß™ Pytest –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .env.example               # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .env                       # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–≤ .gitignore)
‚îú‚îÄ‚îÄ .pre-commit-config.yaml    # Pre-commit –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ ruff.toml                  # Ruff –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements_style.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Å—Ç–∏–ª–∏—Å—Ç–∏–∫–∏
‚îú‚îÄ‚îÄ ARCHITECTURE.md            # üìö –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ DATABASE_SCHEMA.md         # üìö –°—Ö–µ–º–∞ –ë–î –∏ ERD
‚îú‚îÄ‚îÄ CONSTANTS_GUIDE.md         # üìö –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º
‚îú‚îÄ‚îÄ TEAM_MEMBERS.md            # üë• –ß–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã
‚îú‚îÄ‚îÄ ISSUES_CHECKLIST.md        # ‚úÖ –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
‚îî‚îÄ‚îÄ README.md                  # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

[‚Üë –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)

---

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∏–ª—å –∫–æ–¥–∞ (—Ç–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑)
ruff check src/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å
ruff check --fix src/

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ (–ø–µ—Ä–µ–Ω–æ—Å—ã, –æ—Ç—Å—Ç—É–ø—ã)
ruff format src/

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ pre-commit —Ö—É–∫–∏ –≤—Ä—É—á–Ω—É—é
pre-commit run --all-files

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ö—É–∫
pre-commit run ruff --all-files
```

### üóÑÔ∏è –†–∞–±–æ—Ç–∞ —Å –ë–î –∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏

```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ –º–æ–¥–µ–ª–µ–π)
alembic revision --autogenerate -m "Add User model"

# –°–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç—É—é –º–∏–≥—Ä–∞—Ü–∏—é
alembic revision -m "Manual migration"

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
alembic upgrade head

# –û—Ç–∫–∞—Ç–∏—Ç—å –Ω–∞ –æ–¥–Ω—É –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞–∑–∞–¥
alembic downgrade -1

# –û—Ç–∫–∞—Ç–∏—Ç—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é
alembic downgrade <revision_id>

# –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –ë–î
alembic current

# –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –º–∏–≥—Ä–∞—Ü–∏–π
alembic history

# –ü–æ–¥–Ω—è—Ç—å PostgreSQL –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–Ω–∞ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –ø–æ—Ä—Ç—É 5433)
docker run -d \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_PASSWORD=postgres \
  -e POSTGRES_DB=booking_db \
  -p 5433:5432 \
  --name postgres_dev \
  postgres:15-alpine
```

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º **–ø–æ—Ä—Ç 5433** –¥–ª—è PostgreSQL (–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π), —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –¥—Ä—É–≥–∏–º–∏ PostgreSQL.

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
python -m uvicorn src.main:app --reload --host 0.0.0.0 --port 8000

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–µ–∑ –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ (production-like)
python -m uvicorn src.main:app --host 0.0.0.0 --port 8000

# –° –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–ª—è production
python -m uvicorn src.main:app --host 0.0.0.0 --port 8000 --workers 4
```

### –ó–∞–ø—É—Å–∫ Celery (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏)

```bash
# Celery Worker (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–¥–∞—á)
celery -A src.app.core.celery worker --loglevel=info

# Celery Beat (–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á)
celery -A src.app.core.celery beat --loglevel=info

# Flower (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)
flower -A src.app.core.celery --port=5555
```

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–∫–æ–≥–¥–∞ –±—É–¥—É—Ç —Ç–µ—Å—Ç—ã)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
pytest

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å coverage
pytest --cov=src

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/test_users.py::test_create_user

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ verbose —Ä–µ–∂–∏–º–µ
pytest -v
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–µ—Ä—Å–∏—é FastAPI
python -c "import fastapi; print(fastapi.__version__)"

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip list

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞–∫–µ—Ç
pip show sqlalchemy

# –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å requirements.txt —Å —Ç–µ–∫—É—â–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏
pip freeze > requirements_frozen.txt
```

[‚Üë –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)

---

## –°—Ç–∏–ª–∏—Å—Ç–∏–∫–∞ –∫–æ–¥–∞

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Ruff?

- ‚úÖ **–î–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫** ‚Äî –º–∞–∫—Å–∏–º—É–º 79 —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ **–ò–º–ø–æ—Ä—Ç—ã** ‚Äî –ø–æ—Ä—è–¥–æ–∫, –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ
- ‚úÖ **–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ** ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —Ñ—É–Ω–∫—Ü–∏–π, –∫–ª–∞—Å—Å–æ–≤
- ‚úÖ **Docstrings** ‚Äî –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ **Type hints** ‚Äî –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤
- ‚úÖ **–ö–∞–≤—ã—á–∫–∏** ‚Äî –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî PEP8, –æ—Ç—Å—Ç—É–ø—ã

### –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –ü—Ä–∞–≤–∏–ª–æ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| Line Length | 79 —Å–∏–º–≤–æ–ª–æ–≤ |
| Indent | 4 –ø—Ä–æ–±–µ–ª–∞ |
| Quotes | Single quotes (`'`) |
| Line Endings | LF (Unix) |
| Python Target | 3.11+ |
| Max Complexity | 10 (McCabe) |

### –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ –æ—à–∏–±–∫–∏

- `E402` ‚Äî Module level import not at top of file (–≤ `__init__.py`)
- `E401` ‚Äî Multiple imports on one line (–≤ `__init__.py`)
- Docstring –æ—à–∏–±–∫–∏ –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö –∏ —Ç–µ—Å—Ç–∞—Ö

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```python
# ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –¥–ª–∏–Ω—ã)
def create_user(username: str, email: str, password: str, phone: str) -> User:
    pass

# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
def create_user(
    username: str,
    email: str,
    password: str,
    phone: str,
) -> User:
    pass
```

### Git hooks (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)

–ü–æ—Å–ª–µ `pre-commit install`, –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ –±—É–¥—É—Ç:
1. –£–¥–∞–ª—è—Ç—å—Å—è –ø—Ä–æ–±–µ–ª—ã –≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫
2. –§–∏–∫—Å–∏—Ç—å—Å—è –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞
3. –ü—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è YAML —Ñ–∞–π–ª—ã
4. –ó–∞–ø—É—Å–∫–∞—Ç—å—Å—è `ruff check --fix`
5. –ó–∞–ø—É—Å–∫–∞—Ç—å—Å—è `ruff format`

–ï—Å–ª–∏ pre-commit –Ω–∞–π–¥—ë—Ç –æ—à–∏–±–∫–∏:
```bash
# –û–Ω–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
# –ù—É–∂–Ω–æ –∑–∞–Ω–æ–≤–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã –≤ staging
git add .
git commit -m "Fixed style issues"
```

[‚Üë –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)

---

## üöÄ Deployment –Ω–∞ Production

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π deployment —Å GitHub Actions

–ö–æ–≥–¥–∞ –≤—ã –¥–µ–ª–∞–µ—Ç–µ **push –≤ main** (–ø–æ—Å–ª–µ —Å–ª–∏—è–Ω–∏—è PR), GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ production —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SSH
2. –û–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–¥ (`git pull`)
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
4. –í—ã–ø–æ–ª–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–û–î–ò–ù –†–ê–ó)

**1. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å .env —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp -i ~/.ssh/<SSH_KEY_NAME> \
  .env \
  <SSH_USER>@<SERVER_IP>:/home/<SSH_USER>/booking_seats_team_project/.env
```

**2. –î–æ–±–∞–≤–∏—Ç—å SSH Secret –≤ GitHub:**
- –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
- **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
- **New repository secret**
  - **–ò–º—è:** `SSH_PRIVATE_KEY`
  - **–ó–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `~/.ssh/<SSH_KEY_NAME>` (—Ü–µ–ª–∏–∫–æ–º)

**3. –ì–æ—Ç–æ–≤–æ!**
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–∞–∂–¥—ã–π push –≤ main –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ deployment

```bash
# SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh -i ~/.ssh/<SSH_KEY_NAME> <SSH_USER>@<SERVER_IP>

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
cd /home/<SSH_USER>/booking_seats_team_project/infra
docker-compose logs -f app

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
curl http://localhost:8000/api/v1/health
```

### Server –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **IP:** `<SERVER_IP>` (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π IP)
- **User:** `<SSH_USER>` (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- **SSH –∫–ª—é—á:** `~/.ssh/<SSH_KEY_NAME>` (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–º—è –≤–∞—à–µ–≥–æ –∫–ª—é—á–∞)
- **App –ø—É—Ç—å:** `/home/<SSH_USER>/booking_seats_team_project`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏:** `reviews/booking_seats_team_project/CI_CD_SETUP_GUIDE.md`

[‚Üë –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–ª—è —á–ª–µ–Ω–æ–≤ –∫–æ–º–∞–Ω–¥—ã

- **[ARCHITECTURE.md](./ARCHITECTURE.md)** ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, Git-flow
- **[DATABASE_SCHEMA.md](./DATABASE_SCHEMA.md)** ‚Äî –ü–æ–ª–Ω–∞—è ERD —Å—Ö–µ–º–∞, –ø—Ä–∏–º–µ—Ä—ã SQLAlchemy
- **[ISSUES_CHECKLIST.md](./ISSUES_CHECKLIST.md)** ‚Äî –í—Å–µ 25+ –∑–∞–¥–∞—á —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
- **[TEAM_MEMBERS.md](./TEAM_MEMBERS.md)** ‚Äî GitHub usernames –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- **[CONSTANTS_GUIDE.md](./CONSTANTS_GUIDE.md)** ‚Äî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∫–æ–Ω—Å—Ç–∞–Ω—Ç (–ù–û–í–û–ï!)

### –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **Swagger UI:** http://localhost:8000/docs (–ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞)
- **ReDoc:** http://localhost:8000/redoc
- **OpenAPI JSON:** http://localhost:8000/openapi.json

[‚Üë –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [FastAPI](https://fastapi.tiangolo.com/) ‚Äî Web framework
- [SQLAlchemy 2.0](https://docs.sqlalchemy.org/20/) ‚Äî ORM
- [Pydantic v2](https://docs.pydantic.dev/latest/) ‚Äî Data validation
- [Alembic](https://alembic.sqlalchemy.org/) ‚Äî Database migrations
- [Celery](https://docs.celeryproject.io/) ‚Äî Task queue
- [Loguru](https://loguru.readthedocs.io/) ‚Äî Logging

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- [Ruff](https://docs.astral.sh/ruff/) ‚Äî Linter & Formatter
- [Pre-commit](https://pre-commit.com/) ‚Äî Git hooks framework
- [Postman Collection](./postman_collection/) ‚Äî –ü—Ä–∏–º–µ—Ä—ã API –∑–∞–ø—Ä–æ—Å–æ–≤

[‚Üë –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)

---

## FAQ

**Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞?**
A: –î–æ–±–∞–≤—å—Ç–µ –≤ `TEAM_MEMBERS.md`, –ø—É—Å—Ç—å –≤—ã–ø–æ–ª–Ω–∏—Ç —à–∞–≥–∏ "–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç" –∏ `pre-commit install`.

**Q: –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏?**
A: –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–æ–¥–µ–ª—è—Ö –≤ `src/app/models/`. –ö–æ–º–∞–Ω–¥–∞: `alembic revision --autogenerate`.

**Q: –ì–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ª–æ–≥–∏?**
A: –í –ø–∞–ø–∫–µ `logs/` (–≤ `.gitignore`). –ò–ª–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å `--reload`.

**Q: –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å PostgreSQL –≤–º–µ—Å—Ç–æ SQLite?**
A: –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL –Ω–∞ –ø–æ—Ä—Ç—É **5433**. –û–±–Ω–æ–≤–∏—Ç—å `DATABASE_URL` –≤ `.env` –º–æ–∂–Ω–æ, –Ω–æ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω –Ω–∞ —ç—Ç–æ–º –ø–æ—Ä—Ç—É.

**Q: –ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ä—Ç 5433, –∞ –Ω–µ 5432?**
A: 5433 ‚Äî –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –¥—Ä—É–≥–∏–º PostgreSQL, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –Ω–∞ –≤–∞—à–µ–π –º–∞—à–∏–Ω–µ. –ï—Å–ª–∏ –Ω—É–∂–µ–Ω —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π 5432, –∏–∑–º–µ–Ω–∏—Ç–µ –≤ `.env` –∏ `docker-compose.yml`.

**Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å –æ—à–∏–±–∫–∞–º–∏ pre-commit?**
A: –û–Ω–∏ –æ–±—ã—á–Ω–æ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –≤—ã–≤–æ–¥ –æ—à–∏–±–∫–∏, –∏—Å–ø—Ä–∞–≤—å—Ç–µ –≤—Ä—É—á–Ω—É—é –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –∫–æ–º–º–∏—Ç.

[‚Üë –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)

---

## –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- ‚úÖ P1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- ‚úÖ P2: MVP (users, cafes, tables, slots, booking, media)
- ‚úÖ P3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (Celery, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
- ‚è≥ P4: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

**–•–æ—Ç–∏—Ç–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è?** –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ [ISSUES_CHECKLIST.md](./ISSUES_CHECKLIST.md)!

[‚Üë –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

**Team Lead:** –î–∞–Ω–∏–ª (Mordovin)
**Questions?** –°–æ–∑–¥–∞–π—Ç–µ Issue –Ω–∞ GitHub –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ TG.

[‚Üë –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 12 –¥–µ–∫–∞–±—Ä—è 2025 –≥.
